<!doctype html><html><head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>搭建自己的git服务器 - champ的个人博客</title>
<meta name=author content="champ">
<meta name=description content="champ的个人网站，分享一些自己在开发过程中的小知识已经一些小工具">
<meta name=keywords content="开发笔记，小工具">
<link rel=stylesheet href=/css/style.min.fa0868f50acb850007eddf2a140a2d223abd2a791a6e71094462ed65b2f033d8.css>
<link rel=stylesheet href=/js/app.min.32095c9383089bb169dd0ad8552d0d7044206daf16c5f53c90395500fe9cbc1f.css>
<script src=/js/app.min.1efa461e923265a55116bf3d81e23f569c18279542d6261f87075f4e8c0eddb6.js></script>
</head>
<body>
<div id=container class=container>
<header id=header>
<div class=wrapper>
<button class=round-left onclick="location.href='/'"><svg stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" aria-label="主页图标" class="css-ggaxow ellz05y0" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><g><path fill="none" d="M0 0h24v24H0z"/><path d="M19 21H5a1 1 0 01-1-1v-9H1l10.327-9.388a1 1 0 011.346.0L23 11h-3v9a1 1 0 01-1 1zM6 19h12V9.157l-6-5.454-6 5.454V19z"/></g></svg>
回到主页</button>
<button class=round-right><svg stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" aria-label="文章目录" class="css-ggaxow ellz05y0" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><g><path fill="none" d="M0 0h24v24H0z"/><path d="M20 22H4a1 1 0 01-1-1V3a1 1 0 011-1h16a1 1 0 011 1v18a1 1 0 01-1 1zm-1-2V4H5v16h14zM8 7h8v2H8V7zm0 4h8v2H8v-2zm0 4h8v2H8v-2z"/></g></svg>
目录</button>
</div>
</header>
<main id=main>
<article class=post-single>
<header>
<h1>搭建自己的git服务器</h1>
<span class=summary>环境: server: ubuntu 16.4 第一步，安装git: sudo apt-get install git 第二步，创建一个git用户，用来运行git服务： sudo adduser git 第三步，创建证书登录： 收集所有需要登录的用户的</span>
<div class=meta>
<time>
<i class="far fa-calendar"></i>
编辑于 2021 年 10 月 10 日
</time>
<a href=https://creativecommons.org/licenses/by-sa/4.0/deed.zh target=_blank rel="noopener noreferrer">
<i class="far fa-copyright"></i>
CC-BY-SA-4.0
</a>
</div>
</header>
<section class=body>
<p>环境:
server: ubuntu 16.4</p>
<p>第一步，安装git:
sudo apt-get install git</p>
<p>第二步，创建一个git用户，用来运行git服务：
sudo adduser git</p>
<p>第三步，创建证书登录：
收集所有需要登录的用户的公钥，导入到 /home/git/.ssh/authorized_keys 文件中，一行一个。</p>
<p>第四步，初始化git裸仓库：
cd /srv
sudo git init &ndash;bare blog.git
sudo chown -R git:git blog.git</p>
<p>第五步，禁用shell登录：
编辑 /etc/passwd 文件，如下：</p>
<pre tabindex=0><code class=language-passwd data-lang=passwd>git❌1001:1001:,,,:/home/git:/bin/bash
git❌1001:1001:,,,:/home/git:/user/bin/git-shell
</code></pre><p>第六步，克隆远程仓库：
git clone git@server:/srv/blog.git</p>
<p>第七步，设置本地仓库的origin：
如果先有本地仓库，后有服务器的裸仓库，可以设置本地仓库的origin:</p>
</section>
<section class=related>
<h3>Related</h3>
<ul>
<li><a href=/about/></a></li>
</ul>
</section>
<div class=bottom-nav>
<a href=/about/>&lt; </a>
<a href=/posts/2019/05/nodejs-learn-note/>Nodejs之nextTick vs setImmediate ></a>
</div>
<section class=comments>
<h3>Comments</h3>
</section>
</article>
</main>
</div>
</body>
</html>