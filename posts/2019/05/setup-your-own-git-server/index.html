<!doctype html><html><head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>搭建自己的git服务器 - champ的个人博客</title>
<meta name=author content>
<meta name=description content>
<meta name=keywords content>
<link rel=stylesheet href=/css/style.min.707a447a38b5c899ab7181e46ad6f92898db92b84fe60b93b445fe2cbd02c29d.css>
<link rel=stylesheet href=/css/syntax.min.css>
</head>
<body>
<div id=container class=container><header id=header>
<div class=wrapper>
<form><svg stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" aria-label="搜索图标" class="icon icon-search" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><g><path fill="none" d="M0 0h24v24H0z"/><path d="M18.031 16.617l4.283 4.282-1.415 1.415-4.282-4.283A8.96 8.96.0 0111 20c-4.968.0-9-4.032-9-9s4.032-9 9-9 9 4.032 9 9a8.96 8.96.0 01-1.969 5.617zm-2.006-.742A6.977 6.977.0 0018 11c0-3.868-3.133-7-7-7-3.868.0-7 3.132-7 7 0 3.867 3.132 7 7 7a6.977 6.977.0 004.875-1.975l.15-.15z"/></g></svg>
<input type=search placeholder="在「网站」中搜搜 ..." title="使用 / 键聚焦搜索框">
</form>
</div>
</header>
<main id=main>
<article class=post>
<header>
<h2>搭建自己的git服务器</h2>
<p>By </p>
<p>
Posted May 13, 2019
<span class=tags>
in
<a href=/tags/git%E6%9C%8D%E5%8A%A1%E5%99%A8 class=tag>git服务器</a>
</span>
</p>
<p>Reading time: 1 minutes.</p>
</header>
<section class=body>
<p>环境:
server: ubuntu 16.4</p>
<p>第一步，安装git:
sudo apt-get install git</p>
<p>第二步，创建一个git用户，用来运行git服务：
sudo adduser git</p>
<p>第三步，创建证书登录：
收集所有需要登录的用户的公钥，导入到 /home/git/.ssh/authorized_keys 文件中，一行一个。</p>
<p>第四步，初始化git裸仓库：
cd /srv
sudo git init &ndash;bare blog.git
sudo chown -R git:git blog.git</p>
<p>第五步，禁用shell登录：
编辑 /etc/passwd 文件，如下：</p>
<pre tabindex=0><code class=language-passwd data-lang=passwd>git❌1001:1001:,,,:/home/git:/bin/bash
git❌1001:1001:,,,:/home/git:/user/bin/git-shell
</code></pre><p>第六步，克隆远程仓库：
git clone git@server:/srv/blog.git</p>
<p>第七步，设置本地仓库的origin：
如果先有本地仓库，后有服务器的裸仓库，可以设置本地仓库的origin:</p>
</section>
<section class=related>
</section>
<aside>
<nav id=TableOfContents></nav>
</aside>
Next: <a href=/posts/2019/05/nodejs-learn-note/>Page(/posts/2019/05/nodejs-learn-note.md)</a>
<section class=comments>
<h3>Comments</h3>
</section>
</article>
</main>
</div>
</body>
</html>