<!doctype html><html><head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=0">
<title>Koa 项目脚手架 - champ的个人博客</title>
<meta name=author content="champ">
<meta name=description content="champ的个人网站，分享一些自己在开发过程中的小知识已经一些小工具">
<meta name=keywords content="开发笔记，小工具">
<link rel=stylesheet href=/css/style.min.3d440fc01f949ea9ca45469410c5abc44efa1e0deec8690d0f923dd4d649e3fc.css>
<link rel=stylesheet href=/js/app.min.32095c9383089bb169dd0ad8552d0d7044206daf16c5f53c90395500fe9cbc1f.css>
</head>
<body>
<div id=container class=container>
<header id=header>
<div class=wrapper>
<button class=round-left onclick="location.href='/'"><svg stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" aria-label="主页图标" class="css-ggaxow ellz05y0" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><g><path fill="none" d="M0 0h24v24H0z"/><path d="M19 21H5a1 1 0 01-1-1v-9H1l10.327-9.388a1 1 0 011.346.0L23 11h-3v9a1 1 0 01-1 1zM6 19h12V9.157l-6-5.454-6 5.454V19z"/></g></svg>
回到主页</button>
<button class=round-right><svg stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" aria-label="文章目录" class="css-ggaxow ellz05y0" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><g><path fill="none" d="M0 0h24v24H0z"/><path d="M20 22H4a1 1 0 01-1-1V3a1 1 0 011-1h16a1 1 0 011 1v18a1 1 0 01-1 1zm-1-2V4H5v16h14zM8 7h8v2H8V7zm0 4h8v2H8v-2zm0 4h8v2H8v-2z"/></g></svg>
目录</button>
</div>
<div class="output-wrapper hide">
<div id=output class=output></div>
</div>
</header>
<main id=main>
<article class=post-single>
<header>
<h1>Koa 项目脚手架</h1>
<span class=summary>由于 koa 框架非常精简，不捆绑任何中间件，因此，路由、日志等这些常见的功能都是由单独的模块提供。这里列举一些常用的中间件，可以作为脚手架使用。 koa-router</span>
<div class=meta>
<time>
<i class="icon far fa-calendar"></i>
编辑于 2021 年 10 月 12 日
</time>
<a href=https://creativecommons.org/licenses/by-sa/4.0/deed.zh target=_blank rel="noopener noreferrer">
<i class="icon far fa-copyright"></i>
CC-BY-SA-4.0
</a>
</div>
</header>
<aside>
<h2>Table of Contents</h2>
<nav id=TableOfContents>
<ul>
<li><a href=#koa-router>koa-router</a></li>
<li><a href=#koa-body>koa-body</a></li>
<li><a href=#koacors>@koa/cors</a></li>
<li><a href=#koa-session>koa-session</a></li>
<li><a href=#koa-logger>koa-logger</a></li>
<li><a href=#koa-compress>koa-compress</a></li>
<li><a href=#koa-static>koa-static</a></li>
<li><a href=#koa-csrf>koa-csrf</a></li>
<li><a href=#koa-jwt>koa-jwt</a></li>
<li><a href=#jsonwebtoken>jsonwebtoken</a></li>
<li><a href=#koa-helmet>koa-helmet</a></li>
<li><a href=#mongoose>mongoose</a></li>
</ul>
</nav>
</aside>
<section class=body>
<p>由于 <code>koa</code> 框架非常精简，不捆绑任何中间件，因此，路由、日志等这些常见的功能都是由单独的模块提供。这里列举一些常用的中间件，可以作为脚手架使用。</p>
<h2 id=koa-router>koa-router <a href=#koa-router class=anchor>¶</a></h2>
<p>项目地址: <a href=https://github.com/ZijianHe/koa-router target=_blank rel=noopener>https://github.com/ZijianHe/koa-router</a>
</p>
<div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>npm install koa-router
</code></pre></td></tr></table>
</div>
</div><h2 id=koa-body>koa-body <a href=#koa-body class=anchor>¶</a></h2>
<p>项目地址: <a href=https://github.com/dlau/koa-body target=_blank rel=noopener>https://github.com/dlau/koa-body</a>
</p>
<p>用于解析 <code>post/put/...</code> 请求时的 <code>body</code>，支持 <code>json</code>、<code>urlenocded</code>、<code>multipart</code>等格式。</p>
<div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>npm install koa-body
</code></pre></td></tr></table>
</div>
</div><h2 id=koacors>@koa/cors <a href=#koacors class=anchor>¶</a></h2>
<p>项目地址: <a href=https://github.com/koajs/cors target=_blank rel=noopener>https://github.com/koajs/cors</a>
</p>
<p>官方提供的<code>cors</code>跨域解决方案</p>
<div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>npm install @koa/cors
</code></pre></td></tr></table>
</div>
</div><h2 id=koa-session>koa-session <a href=#koa-session class=anchor>¶</a></h2>
<p>项目地址: <a href=https://github.com/koajs/session target=_blank rel=noopener>https://github.com/koajs/session</a>
</p>
<div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>npm install koa-session
</code></pre></td></tr></table>
</div>
</div><h2 id=koa-logger>koa-logger <a href=#koa-logger class=anchor>¶</a></h2>
<p>项目地址: <a href=https://github.com/koajs/logger target=_blank rel=noopener>https://github.com/koajs/logger</a>
</p>
<div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>npm install koa-logger
</code></pre></td></tr></table>
</div>
</div><h2 id=koa-compress>koa-compress <a href=#koa-compress class=anchor>¶</a></h2>
<p>项目地址: <a href=https://github.com/koajs/compress target=_blank rel=noopener>https://github.com/koajs/compress</a>
</p>
<div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>npm install koa-compress
</code></pre></td></tr></table>
</div>
</div><h2 id=koa-static>koa-static <a href=#koa-static class=anchor>¶</a></h2>
<p>项目地址: <a href=https://github.com/koajs/static target=_blank rel=noopener>https://github.com/koajs/static</a>
</p>
<div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>npm install koa-static
</code></pre></td></tr></table>
</div>
</div><h2 id=koa-csrf>koa-csrf <a href=#koa-csrf class=anchor>¶</a></h2>
<p>项目地址: <a href=https://github.com/koajs/csrf target=_blank rel=noopener>https://github.com/koajs/csrf</a>
</p>
<div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>npm install koa-csrf
</code></pre></td></tr></table>
</div>
</div><h2 id=koa-jwt>koa-jwt <a href=#koa-jwt class=anchor>¶</a></h2>
<p>项目地址: <a href=https://github.com/koajs/jwt target=_blank rel=noopener>https://github.com/koajs/jwt</a>
</p>
<p>用于验证<code>jwt</code></p>
<div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>npm install koa-jwt
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>注意:
从<code>koa-v2</code>分支之后，<code>koa-jwt</code>不再提供<code>sign</code>,<code>verify</code>,<code>decode</code>等函数
因此，需要通过下面的<code>jsonwebtoken</code>来生成<code>jwt</code></p>
</blockquote>
<h2 id=jsonwebtoken>jsonwebtoken <a href=#jsonwebtoken class=anchor>¶</a></h2>
<p>项目地址: <a href=https://github.com/auth0/node-jsonwebtoken target=_blank rel=noopener>https://github.com/auth0/node-jsonwebtoken</a>
</p>
<p>用于生成<code>jwt</code></p>
<div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>npm install jsonwebtoken
</code></pre></td></tr></table>
</div>
</div><h2 id=koa-helmet>koa-helmet <a href=#koa-helmet class=anchor>¶</a></h2>
<p>项目地址: <a href=https://github.com/venables/koa-helmet target=_blank rel=noopener>https://github.com/venables/koa-helmet</a>
</p>
<p>安全方面的配置</p>
<div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>npm install koa-static
</code></pre></td></tr></table>
</div>
</div><h2 id=mongoose>mongoose <a href=#mongoose class=anchor>¶</a></h2>
<p>项目地址: <a href=https://github.com/Automattic/mongoose target=_blank rel=noopener>https://github.com/Automattic/mongoose</a>
</p>
<p>MongoDB 数据库的nodejs客户端</p>
<div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>npm install mongoose
</code></pre></td></tr></table>
</div>
</div>
</section>
<section class=related>
<h3>Related</h3>
<ul>
<li><a href=/posts/2019/05/koa-learn-note/>Koa 学习笔记</a></li>
<li><a href=/posts/2019/05/nodejs-learn-note/>Nodejs之nextTick vs setImmediate</a></li>
<li><a href=/posts/2019/05/linux-command/>Linux常用命令</a></li>
<li><a href=/posts/2019/05/setup-your-own-git-server/>搭建自己的git服务器</a></li>
<li><a href=/about/></a></li>
</ul>
</section>
<div class=bottom-nav>
<a href=/posts/2019/05/koa-learn-note/>&lt; Koa 学习笔记</a>
<a href=/posts/2019/05/mac-cheat-sheet/>Mac 实用技巧 ></a>
</div>
<section class=comments>
<h3>Comments</h3>
</section>
</article>
</main>
</div>
</body>
</html>